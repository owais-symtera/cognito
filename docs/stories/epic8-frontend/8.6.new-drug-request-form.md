# Story 8.6: New Drug Request Form

## Status
Ready

## Story
**As a** pharmaceutical researcher,
**I want** a comprehensive form to submit new drug analysis requests,
**so that** I can initiate the CognitoAI-Engine analysis process with all necessary drug information and parameters.

## Acceptance Criteria
1. Multi-step form wizard with progress indication
2. Drug information section (name, compound, indication)
3. Chemical structure input (SMILES, molecular formula)
4. Analysis scope selection (patents, market, properties)
5. Priority level and urgency settings
6. File upload for additional documentation
7. Form validation with real-time feedback
8. Draft saving and resume functionality
9. Request preview before submission
10. Confirmation dialog and success notification

## Technical Requirements
- **Framework**: React Hook Form for form state management
- **Validation**: Zod schema validation with error messages
- **File Upload**: Drag-and-drop file upload component
- **Styling**:
  - Multi-step wizard with step indicators
  - Responsive form layouts
  - Validation error styling
- **Components**:
  - Stepper/wizard navigation
  - Chemical structure drawing tool
  - File upload with preview
  - Form field components with validation

## Dependencies
- Authentication system (Story 8.1) for user context
- API integration layer (Story 8.5) for form submission
- Main application shell (Story 8.2) for navigation
- Backend API for request creation

## Test Cases
1. Form wizard navigation works correctly
2. All form fields validate according to rules
3. Chemical structure input accepts valid formats
4. File upload handles various file types
5. Draft saving preserves form state
6. Form submission creates request successfully
7. Error handling displays appropriate messages
8. Form preview shows all entered information
9. Success confirmation redirects appropriately
10. Form accessibility supports screen readers

## Story Points
13

## Priority
P0 - Critical (Core Feature)

## Dev Notes
- Implement progressive form enhancement
- Add autocomplete for drug names and compounds
- Consider implementing chemical structure drawing
- Add form analytics for UX improvements
- Implement file validation and virus scanning

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-01-XX | 1.0 | Initial story creation | Bob (Scrum Master) |